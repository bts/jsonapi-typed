<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>JsonApi.Internal.Relationships</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_JsonApi-Internal-Relationships.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/JsonApi-Internal-Relationships.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">jsonapi-typed-0.1.0.0: Type-level combinators for JSON API spec</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">JsonApi.Internal.Relationships</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:FetchMode">FetchMode</a><ul class="subs"><li>= <a href="#v:FetchIncluded">FetchIncluded</a></li><li>| <a href="#v:FetchRelationship">FetchRelationship</a></li></ul></li><li class="src short"><span class="keyword">class</span> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:FetchRelated">FetchRelated</a> m r nm a <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Include">Include</a><ul class="subs"><li>= <a href="#v:IncludeDefault">IncludeDefault</a></li><li>| <a href="#v:Include">Include</a></li><li>| <a href="#v:IncludeNot">IncludeNot</a></li><li>| <a href="#v:IncludeChildren">IncludeChildren</a> (<a href="file:///nix/store/wmgvv9jynyfk4cwsadd1yzc0sdipbin7-unordered-containers-0.2.7.1/share/doc/x86_64-linux-ghc-8.0.1/unordered-containers-0.2.7.1/html/Data-HashMap-Strict.html#t:HashMap">HashMap</a> <a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a> <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a>)</li></ul></li><li class="src short"><a href="#v:includesForKid">includesForKid</a> :: <a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Included">Included</a> = <a href="#v:Included">Included</a> {<ul class="subs"><li><a href="#v:includedIds">includedIds</a> :: !(<a href="file:///nix/store/wmgvv9jynyfk4cwsadd1yzc0sdipbin7-unordered-containers-0.2.7.1/share/doc/x86_64-linux-ghc-8.0.1/unordered-containers-0.2.7.1/html/Data-HashSet.html#t:HashSet">HashSet</a> <a href="JsonApi-Internal-Document.html#t:ResourceId">ResourceId</a>)</li><li><a href="#v:includedObjects">includedObjects</a> :: <a href="file:///nix/store/wmgvv9jynyfk4cwsadd1yzc0sdipbin7-unordered-containers-0.2.7.1/share/doc/x86_64-linux-ghc-8.0.1/unordered-containers-0.2.7.1/html/Data-HashMap-Strict.html#t:HashMap">HashMap</a> <a href="JsonApi-Internal-Document.html#t:ResourceType">ResourceType</a> [<a href="JsonApi-Internal-Document.html#t:ResourceObject">ResourceObject</a>]</li></ul>}</li><li class="src short"><a href="#v:emptyIncluded">emptyIncluded</a> :: <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a></li><li class="src short"><a href="#v:addIncluded">addIncluded</a> :: <a href="JsonApi-Internal-Document.html#t:ResourceObject">ResourceObject</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a></li><li class="src short"><a href="#v:foldIncluded">foldIncluded</a> :: <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Foldable.html#t:Foldable">Foldable</a> t =&gt; t <a href="JsonApi-Internal-Document.html#t:ResourceObject">ResourceObject</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a></li><li class="src short"><span class="keyword">class</span> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:FetchRelationship">FetchRelationship</a> m r a <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><a href="#v:doFetchRelationship">doFetchRelationship</a> :: (<a href="JsonApi-Internal-Relationships.html#t:FetchRelated">FetchRelated</a> m r nm a, <a href="JsonApi-Internal-Relationships.html#t:SerialiseResource">SerialiseResource</a> m (<a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships)) =&gt; <span class="keyword">forall</span> proxy. proxy (<a href="JsonApi-Internal-Api.html#t:Rel">Rel</a> nm a) -&gt; proxy (<a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships) -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; r -&gt; m (<a href="JsonApi-Internal-Document.html#t:Relationship">Relationship</a>, <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Monoid.html#t:Endo">Endo</a> <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a>)</li><li class="src short"><span class="keyword">class</span> <a href="#t:FetchAllRelationships">FetchAllRelationships</a> m r a <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">class</span> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:SerialiseResource">SerialiseResource</a> m a <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:SerialiseI">SerialiseI</a> m a</li></ul></li><li class="src short"><a href="#v:filterFields">filterFields</a> :: <a href="file:///nix/store/wmgvv9jynyfk4cwsadd1yzc0sdipbin7-unordered-containers-0.2.7.1/share/doc/x86_64-linux-ghc-8.0.1/unordered-containers-0.2.7.1/html/Data-HashSet.html#t:HashSet">HashSet</a> <a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="JsonApi-Internal-Document.html#t:ResourceObject">ResourceObject</a> -&gt; <a href="JsonApi-Internal-Document.html#t:ResourceObject">ResourceObject</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:FieldsFilter">FieldsFilter</a> = <a href="file:///nix/store/wmgvv9jynyfk4cwsadd1yzc0sdipbin7-unordered-containers-0.2.7.1/share/doc/x86_64-linux-ghc-8.0.1/unordered-containers-0.2.7.1/html/Data-HashMap-Strict.html#t:HashMap">HashMap</a> <a href="JsonApi-Internal-Document.html#t:ResourceType">ResourceType</a> (<a href="file:///nix/store/wmgvv9jynyfk4cwsadd1yzc0sdipbin7-unordered-containers-0.2.7.1/share/doc/x86_64-linux-ghc-8.0.1/unordered-containers-0.2.7.1/html/Data-HashSet.html#t:HashSet">HashSet</a> <a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a>)</li><li class="src short"><a href="#v:serialiseDocument">serialiseDocument</a> :: <a href="JsonApi-Internal-Relationships.html#t:SerialiseResource">SerialiseResource</a> m a =&gt; proxy a -&gt; <a href="JsonApi-Internal-Document.html#t:ResourceData">ResourceData</a> (<a href="JsonApi-Internal-Relationships.html#t:SerialiseI">SerialiseI</a> m a) -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FieldsFilter">FieldsFilter</a> -&gt; m <a href="JsonApi-Internal-Document.html#t:Document">Document</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FetchMode" class="def">FetchMode</a> <a href="src/JsonApi-Internal-Relationships.html#FetchMode" class="link">Source</a> <a href="#t:FetchMode" class="selflink">#</a></p><div class="doc"><p>Describes if related resources should be fetcher, or we are interested
 in relationship itself only</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FetchIncluded" class="def">FetchIncluded</a></td><td class="doc"><p>Fetch relationship with related resource</p></td></tr><tr><td class="src"><a id="v:FetchRelationship" class="def">FetchRelationship</a></td><td class="doc"><p>Fetch only relationship itself</p></td></tr></table></div><div class="subs instances"><p id="control.i:FetchMode" class="caption collapser" onclick="toggleSection('i:FetchMode')">Instances</p><div id="section.i:FetchMode" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:FetchMode:Eq:1" class="instance expander" onclick="toggleSection('i:id:FetchMode:Eq:1')"></span> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a></span> <a href="src/JsonApi-Internal-Relationships.html#line-36" class="link">Source</a> <a href="#t:FetchMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:FetchMode:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:FetchMode:Ord:2" class="instance expander" onclick="toggleSection('i:id:FetchMode:Ord:2')"></span> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Ord.html#t:Ord">Ord</a> <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a></span> <a href="src/JsonApi-Internal-Relationships.html#line-36" class="link">Source</a> <a href="#t:FetchMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:FetchMode:Ord:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Ord.html#t:Ordering">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> <a href="#v:min" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:FetchMode:Show:3" class="instance expander" onclick="toggleSection('i:id:FetchMode:Show:3')"></span> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Text-Show.html#t:Show">Show</a> <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a></span> <a href="src/JsonApi-Internal-Relationships.html#line-36" class="link">Source</a> <a href="#t:FetchMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:FetchMode:Show:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a>] -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a id="t:FetchRelated" class="def">FetchRelated</a> m r nm a <span class="keyword">where</span> <a href="src/JsonApi-Internal-Relationships.html#FetchRelated" class="link">Source</a> <a href="#t:FetchRelated" class="selflink">#</a></p><div class="doc"><p>Class for fetching data for relationship <code>name</code>, from entity <code>r</code>
 to entity <code>a</code>.</p><p>In <code><a href="JsonApi-Internal-Relationships.html#t:FetchRelationship">FetchRelationship</a></code> mode, if you don't have any <code><a href="JsonApi-Internal-Document.html#t:ResourceId">ResourceId</a></code>s for
 related resources inferable just from source resource, you should
 return <code><a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Maybe.html#v:Nothing">Nothing</a></code> in <code>relationshipData</code> field.</p><p>In <code><a href="JsonApi-Internal-Relationships.html#v:FetchIncluded">FetchIncluded</a></code> mode, if you have returned any <code><a href="JsonApi-Internal-Document.html#t:ResourceId">ResourceId</a></code>s in
 <code>relationshipData</code> field, you must also return all resources whith same
 <code><a href="JsonApi-Internal-Document.html#t:ResourceId">ResourceId</a></code> in second field of result pair.</p><pre>instance Monad m =&gt; <code><a href="JsonApi-Internal-Relationships.html#t:FetchRelated">FetchRelated</a></code> Book &quot;author&quot; Author where
  fetchRelated _ mode book = case mode of
      <code><a href="JsonApi-Internal-Relationships.html#t:FetchRelationship">FetchRelationship</a></code> -&gt; pure (bookToAuthor, [])
      <code><a href="JsonApi-Internal-Relationships.html#v:FetchIncluded">FetchIncluded</a></code> -&gt; do
        author &lt;- fetchAuthor (bookAuthorId book)
        pure (bookToAuthor, [author])
     where
       bookToAuthor = <code><a href="JsonApi-Internal-Document.html#t:Relationship">Relationship</a></code>
         (links [(&quot;related&quot;, authorUrl (bookAuthorid book))]
         (Just $ <code><a href="JsonApi-Internal-Document.html#v:SingletonData">SingletonData</a></code> (bookAuthorId book))
         <code><a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Maybe.html#v:Nothing">Nothing</a></code>
</pre></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="JsonApi-Internal-Relationships.html#v:fetchRelated">fetchRelated</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:fetchRelated" class="def">fetchRelated</a> :: <span class="keyword">forall</span> proxy. proxy (<a href="JsonApi-Internal-Api.html#t:Rel">Rel</a> nm a) -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; r -&gt; m (<a href="JsonApi-Internal-Document.html#t:Relationship">Relationship</a>, [a]) <a href="src/JsonApi-Internal-Relationships.html#fetchRelated" class="link">Source</a> <a href="#v:fetchRelated" class="selflink">#</a></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Include" class="def">Include</a> <a href="src/JsonApi-Internal-Relationships.html#Include" class="link">Source</a> <a href="#t:Include" class="selflink">#</a></p><div class="doc"><p>Describes what to do with related resources</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:IncludeDefault" class="def">IncludeDefault</a></td><td class="doc"><p>Only include those which are included by
 default, like specified with <code><a href="JsonApi-Internal-Api.html#t:RelInclude">RelInclude</a></code></p></td></tr><tr><td class="src"><a id="v:Include" class="def">Include</a></td><td class="doc"><p>Include this, but not kids</p></td></tr><tr><td class="src"><a id="v:IncludeNot" class="def">IncludeNot</a></td><td class="doc"><p>Do not include this</p></td></tr><tr><td class="src"><a id="v:IncludeChildren" class="def">IncludeChildren</a> (<a href="file:///nix/store/wmgvv9jynyfk4cwsadd1yzc0sdipbin7-unordered-containers-0.2.7.1/share/doc/x86_64-linux-ghc-8.0.1/unordered-containers-0.2.7.1/html/Data-HashMap-Strict.html#t:HashMap">HashMap</a> <a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a> <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a>)</td><td class="doc"><p>Include this and specified kids</p></td></tr></table></div><div class="subs instances"><p id="control.i:Include" class="caption collapser" onclick="toggleSection('i:Include')">Instances</p><div id="section.i:Include" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Include:Eq:1" class="instance expander" onclick="toggleSection('i:id:Include:Eq:1')"></span> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a></span> <a href="src/JsonApi-Internal-Relationships.html#line-81" class="link">Source</a> <a href="#t:Include" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Include:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Include:Show:2" class="instance expander" onclick="toggleSection('i:id:Include:Show:2')"></span> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Text-Show.html#t:Show">Show</a> <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a></span> <a href="src/JsonApi-Internal-Relationships.html#line-81" class="link">Source</a> <a href="#t:Include" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Include:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="JsonApi-Internal-Relationships.html#t:Include">Include</a>] -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:includesForKid" class="def">includesForKid</a> :: <a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> <a href="src/JsonApi-Internal-Relationships.html#includesForKid" class="link">Source</a> <a href="#v:includesForKid" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Included" class="def">Included</a> <a href="src/JsonApi-Internal-Relationships.html#Included" class="link">Source</a> <a href="#t:Included" class="selflink">#</a></p><div class="doc"><p>Resources to be included in top-level document</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Included" class="def">Included</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:includedIds" class="def">includedIds</a> :: !(<a href="file:///nix/store/wmgvv9jynyfk4cwsadd1yzc0sdipbin7-unordered-containers-0.2.7.1/share/doc/x86_64-linux-ghc-8.0.1/unordered-containers-0.2.7.1/html/Data-HashSet.html#t:HashSet">HashSet</a> <a href="JsonApi-Internal-Document.html#t:ResourceId">ResourceId</a>)</dfn><div class="doc"><p>Ids of already included object</p></div></li><li><dfn class="src"><a id="v:includedObjects" class="def">includedObjects</a> :: <a href="file:///nix/store/wmgvv9jynyfk4cwsadd1yzc0sdipbin7-unordered-containers-0.2.7.1/share/doc/x86_64-linux-ghc-8.0.1/unordered-containers-0.2.7.1/html/Data-HashMap-Strict.html#t:HashMap">HashMap</a> <a href="JsonApi-Internal-Document.html#t:ResourceType">ResourceType</a> [<a href="JsonApi-Internal-Document.html#t:ResourceObject">ResourceObject</a>]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:Included" class="caption collapser" onclick="toggleSection('i:Included')">Instances</p><div id="section.i:Included" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Included:Show:1" class="instance expander" onclick="toggleSection('i:id:Included:Show:1')"></span> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Text-Show.html#t:Show">Show</a> <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a></span> <a href="src/JsonApi-Internal-Relationships.html#line-94" class="link">Source</a> <a href="#t:Included" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Included:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="JsonApi-Internal-Relationships.html#t:Included">Included</a>] -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:emptyIncluded" class="def">emptyIncluded</a> :: <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a> <a href="src/JsonApi-Internal-Relationships.html#emptyIncluded" class="link">Source</a> <a href="#v:emptyIncluded" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addIncluded" class="def">addIncluded</a> :: <a href="JsonApi-Internal-Document.html#t:ResourceObject">ResourceObject</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a> <a href="src/JsonApi-Internal-Relationships.html#addIncluded" class="link">Source</a> <a href="#v:addIncluded" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:foldIncluded" class="def">foldIncluded</a> :: <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Foldable.html#t:Foldable">Foldable</a> t =&gt; t <a href="JsonApi-Internal-Document.html#t:ResourceObject">ResourceObject</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a> <a href="src/JsonApi-Internal-Relationships.html#foldIncluded" class="link">Source</a> <a href="#v:foldIncluded" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a id="t:FetchRelationship" class="def">FetchRelationship</a> m r a <span class="keyword">where</span> <a href="src/JsonApi-Internal-Relationships.html#FetchRelationship" class="link">Source</a> <a href="#t:FetchRelationship" class="selflink">#</a></p><div class="doc"><p>fetches one of the specified relationships</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="JsonApi-Internal-Relationships.html#v:fetchRelationship">fetchRelationship</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:fetchRelationship" class="def">fetchRelationship</a> :: <span class="keyword">forall</span> proxy. proxy a -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; r -&gt; m ((<a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a>, <a href="JsonApi-Internal-Document.html#t:Relationship">Relationship</a>), <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Monoid.html#t:Endo">Endo</a> <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a>) <a href="src/JsonApi-Internal-Relationships.html#fetchRelationship" class="link">Source</a> <a href="#v:fetchRelationship" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:FetchRelationship" class="caption collapser" onclick="toggleSection('i:FetchRelationship')">Instances</p><div id="section.i:FetchRelationship" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:FetchRelationship:FetchRelationship:1" class="instance expander" onclick="toggleSection('i:ic:FetchRelationship:FetchRelationship:1')"></span> (<a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/GHC-TypeLits.html#t:KnownSymbol">KnownSymbol</a> nm, <a href="JsonApi-Internal-Relationships.html#t:FetchRelated">FetchRelated</a> m r nm a, <a href="JsonApi-Internal-Relationships.html#t:SerialiseResource">SerialiseResource</a> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Kind.html#t:-42-">*</a> m (<a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships)) =&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchRelationship">FetchRelationship</a> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Kind.html#t:-42-">*</a> m r (<a href="JsonApi-Internal-Api.html#t:RelInclude">RelInclude</a> nm (<a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships))</span> <a href="src/JsonApi-Internal-Relationships.html#line-166" class="link">Source</a> <a href="#t:FetchRelationship" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:FetchRelationship:FetchRelationship:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fetchRelationship">fetchRelationship</a> :: proxy a -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="JsonApi-Internal-Api.html#t:RelInclude">RelInclude</a> nm (<a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships) -&gt; r ((<a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a>, <a href="JsonApi-Internal-Document.html#t:Relationship">Relationship</a>), <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Monoid.html#t:Endo">Endo</a> <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a>) <a href="src/JsonApi-Internal-Relationships.html#fetchRelationship" class="link">Source</a> <a href="#v:fetchRelationship" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:FetchRelationship:FetchRelationship:2" class="instance expander" onclick="toggleSection('i:ic:FetchRelationship:FetchRelationship:2')"></span> (<a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/GHC-TypeLits.html#t:KnownSymbol">KnownSymbol</a> nm, <a href="JsonApi-Internal-Relationships.html#t:FetchRelated">FetchRelated</a> m r nm a, <a href="JsonApi-Internal-Relationships.html#t:SerialiseResource">SerialiseResource</a> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Kind.html#t:-42-">*</a> m (<a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships)) =&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchRelationship">FetchRelationship</a> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Kind.html#t:-42-">*</a> m r (<a href="JsonApi-Internal-Api.html#t:Rel">Rel</a> nm (<a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships))</span> <a href="src/JsonApi-Internal-Relationships.html#line-144" class="link">Source</a> <a href="#t:FetchRelationship" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:FetchRelationship:FetchRelationship:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fetchRelationship">fetchRelationship</a> :: proxy a -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="JsonApi-Internal-Api.html#t:Rel">Rel</a> nm (<a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships) -&gt; r ((<a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a>, <a href="JsonApi-Internal-Document.html#t:Relationship">Relationship</a>), <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Monoid.html#t:Endo">Endo</a> <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a>) <a href="src/JsonApi-Internal-Relationships.html#fetchRelationship" class="link">Source</a> <a href="#v:fetchRelationship" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:doFetchRelationship" class="def">doFetchRelationship</a> :: (<a href="JsonApi-Internal-Relationships.html#t:FetchRelated">FetchRelated</a> m r nm a, <a href="JsonApi-Internal-Relationships.html#t:SerialiseResource">SerialiseResource</a> m (<a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships)) =&gt; <span class="keyword">forall</span> proxy. proxy (<a href="JsonApi-Internal-Api.html#t:Rel">Rel</a> nm a) -&gt; proxy (<a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships) -&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchMode">FetchMode</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; r -&gt; m (<a href="JsonApi-Internal-Document.html#t:Relationship">Relationship</a>, <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Monoid.html#t:Endo">Endo</a> <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a>) <a href="src/JsonApi-Internal-Relationships.html#doFetchRelationship" class="link">Source</a> <a href="#v:doFetchRelationship" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:FetchAllRelationships" class="def">FetchAllRelationships</a> m r a <span class="keyword">where</span> <a href="src/JsonApi-Internal-Relationships.html#FetchAllRelationships" class="link">Source</a> <a href="#t:FetchAllRelationships" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="JsonApi-Internal-Relationships.html#v:fetchAllRelationships">fetchAllRelationships</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:fetchAllRelationships" class="def">fetchAllRelationships</a> :: <span class="keyword">forall</span> proxy. proxy a -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; r -&gt; m ([(<a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a>, <a href="JsonApi-Internal-Document.html#t:Relationship">Relationship</a>)], <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Monoid.html#t:Endo">Endo</a> <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a>) <a href="src/JsonApi-Internal-Relationships.html#fetchAllRelationships" class="link">Source</a> <a href="#v:fetchAllRelationships" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:FetchAllRelationships" class="caption collapser" onclick="toggleSection('i:FetchAllRelationships')">Instances</p><div id="section.i:FetchAllRelationships" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:FetchAllRelationships:FetchAllRelationships:1" class="instance expander" onclick="toggleSection('i:ic:FetchAllRelationships:FetchAllRelationships:1')"></span> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Control-Applicative.html#t:Applicative">Applicative</a> m =&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchAllRelationships">FetchAllRelationships</a> [k] m r ([] k)</span> <a href="src/JsonApi-Internal-Relationships.html#line-194" class="link">Source</a> <a href="#t:FetchAllRelationships" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:FetchAllRelationships:FetchAllRelationships:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fetchAllRelationships">fetchAllRelationships</a> :: proxy a -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; [k] -&gt; r ([(<a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a>, <a href="JsonApi-Internal-Document.html#t:Relationship">Relationship</a>)], <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Monoid.html#t:Endo">Endo</a> <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a>) <a href="src/JsonApi-Internal-Relationships.html#fetchAllRelationships" class="link">Source</a> <a href="#v:fetchAllRelationships" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:FetchAllRelationships:FetchAllRelationships:2" class="instance expander" onclick="toggleSection('i:ic:FetchAllRelationships:FetchAllRelationships:2')"></span> (<a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Control-Applicative.html#t:Applicative">Applicative</a> m, <a href="JsonApi-Internal-Relationships.html#t:FetchRelationship">FetchRelationship</a> a m r a1, <a href="JsonApi-Internal-Relationships.html#t:FetchAllRelationships">FetchAllRelationships</a> [a] m r as) =&gt; <a href="JsonApi-Internal-Relationships.html#t:FetchAllRelationships">FetchAllRelationships</a> [a] m r ((:) a a1 as)</span> <a href="src/JsonApi-Internal-Relationships.html#line-197" class="link">Source</a> <a href="#t:FetchAllRelationships" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:FetchAllRelationships:FetchAllRelationships:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fetchAllRelationships">fetchAllRelationships</a> :: proxy a -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; (a ': a1) as -&gt; r ([(<a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a>, <a href="JsonApi-Internal-Document.html#t:Relationship">Relationship</a>)], <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Monoid.html#t:Endo">Endo</a> <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a>) <a href="src/JsonApi-Internal-Relationships.html#fetchAllRelationships" class="link">Source</a> <a href="#v:fetchAllRelationships" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a id="t:SerialiseResource" class="def">SerialiseResource</a> m a <span class="keyword">where</span> <a href="src/JsonApi-Internal-Relationships.html#SerialiseResource" class="link">Source</a> <a href="#t:SerialiseResource" class="selflink">#</a></p><div class="doc"><p>Fetches all related resources of some <code><a href="JsonApi-Internal-Api.html#t:Resource">Resource</a></code></p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="JsonApi-Internal-Relationships.html#v:serialise">serialise</a></p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:SerialiseI" class="def">SerialiseI</a> m a <a href="src/JsonApi-Internal-Relationships.html#SerialiseI" class="link">Source</a> <a href="#t:SerialiseI" class="selflink">#</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:serialise" class="def">serialise</a> :: <span class="keyword">forall</span> proxy. proxy a -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:SerialiseI">SerialiseI</a> m a -&gt; m (<a href="JsonApi-Internal-Document.html#t:ResourceObject">ResourceObject</a>, <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Monoid.html#t:Endo">Endo</a> <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a>) <a href="src/JsonApi-Internal-Relationships.html#serialise" class="link">Source</a> <a href="#v:serialise" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:SerialiseResource" class="caption collapser" onclick="toggleSection('i:SerialiseResource')">Instances</p><div id="section.i:SerialiseResource" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:SerialiseResource:SerialiseResource:1" class="instance expander" onclick="toggleSection('i:ic:SerialiseResource:SerialiseResource:1')"></span> (<a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Control-Monad.html#t:Monad">Monad</a> m, <a href="JsonApi-Internal-Resource.html#t:IsResource">IsResource</a> a, <a href="JsonApi-Internal-Relationships.html#t:FetchAllRelationships">FetchAllRelationships</a> [<a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Kind.html#t:-42-">*</a>] m a relationships) =&gt; <a href="JsonApi-Internal-Relationships.html#t:SerialiseResource">SerialiseResource</a> <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Kind.html#t:-42-">*</a> m (<a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships)</span> <a href="src/JsonApi-Internal-Relationships.html#line-216" class="link">Source</a> <a href="#t:SerialiseResource" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:SerialiseResource:SerialiseResource:1" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="JsonApi-Internal-Relationships.html#t:SerialiseI">SerialiseI</a> m (<a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships :: <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Kind.html#t:-42-">*</a>) (a :: m) :: <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/JsonApi-Internal-Relationships.html#SerialiseI" class="link">Source</a> <a href="#t:SerialiseI" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:serialise">serialise</a> :: proxy a -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:SerialiseI">SerialiseI</a> m (<a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships) a -&gt; <a href="JsonApi-Internal-Api.html#t:Resource">Resource</a> a relationships (<a href="JsonApi-Internal-Document.html#t:ResourceObject">ResourceObject</a>, <a href="file:///nix/store/l66r360zz9j7hamsm4xh15635x2fn64r-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Monoid.html#t:Endo">Endo</a> <a href="JsonApi-Internal-Relationships.html#t:Included">Included</a>) <a href="src/JsonApi-Internal-Relationships.html#serialise" class="link">Source</a> <a href="#v:serialise" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:filterFields" class="def">filterFields</a> :: <a href="file:///nix/store/wmgvv9jynyfk4cwsadd1yzc0sdipbin7-unordered-containers-0.2.7.1/share/doc/x86_64-linux-ghc-8.0.1/unordered-containers-0.2.7.1/html/Data-HashSet.html#t:HashSet">HashSet</a> <a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="JsonApi-Internal-Document.html#t:ResourceObject">ResourceObject</a> -&gt; <a href="JsonApi-Internal-Document.html#t:ResourceObject">ResourceObject</a> <a href="src/JsonApi-Internal-Relationships.html#filterFields" class="link">Source</a> <a href="#v:filterFields" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:FieldsFilter" class="def">FieldsFilter</a> = <a href="file:///nix/store/wmgvv9jynyfk4cwsadd1yzc0sdipbin7-unordered-containers-0.2.7.1/share/doc/x86_64-linux-ghc-8.0.1/unordered-containers-0.2.7.1/html/Data-HashMap-Strict.html#t:HashMap">HashMap</a> <a href="JsonApi-Internal-Document.html#t:ResourceType">ResourceType</a> (<a href="file:///nix/store/wmgvv9jynyfk4cwsadd1yzc0sdipbin7-unordered-containers-0.2.7.1/share/doc/x86_64-linux-ghc-8.0.1/unordered-containers-0.2.7.1/html/Data-HashSet.html#t:HashSet">HashSet</a> <a href="file:///nix/store/4achfmshdsa9ny5l9fcas4v75bc76akn-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.1/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a>) <a href="src/JsonApi-Internal-Relationships.html#FieldsFilter" class="link">Source</a> <a href="#t:FieldsFilter" class="selflink">#</a></p><div class="doc"><p>Which fields to include in output by <code><a href="JsonApi-Internal-Document.html#t:ResourceType">ResourceType</a></code>
 used for sparse fieldsets functionality.</p><p><a href="http://jsonapi.org/format/#fetching-sparse-fieldsets">JSON API Spec</a></p></div></div><div class="top"><p class="src"><a id="v:serialiseDocument" class="def">serialiseDocument</a> :: <a href="JsonApi-Internal-Relationships.html#t:SerialiseResource">SerialiseResource</a> m a =&gt; proxy a -&gt; <a href="JsonApi-Internal-Document.html#t:ResourceData">ResourceData</a> (<a href="JsonApi-Internal-Relationships.html#t:SerialiseI">SerialiseI</a> m a) -&gt; <a href="JsonApi-Internal-Relationships.html#t:Include">Include</a> -&gt; <a href="JsonApi-Internal-Relationships.html#t:FieldsFilter">FieldsFilter</a> -&gt; m <a href="JsonApi-Internal-Document.html#t:Document">Document</a> <a href="src/JsonApi-Internal-Relationships.html#serialiseDocument" class="link">Source</a> <a href="#v:serialiseDocument" class="selflink">#</a></p><div class="doc"><p>serialise resource <code>a</code> associated with type <code>'SerialiseI m a'</code>
 into a document. You can add links and meta to that document later</p><pre>type BookResource = Resource Book '[Rel &quot;author&quot; (Resource Author '[])]

getBookResource :: BookId -&gt; Document
getBookResource bookId = withTransaction $ do
  book &lt;- getBook bookId
  <code><a href="JsonApi-Internal-Relationships.html#v:serialiseDocument">serialiseDocument</a></code> (Proxy :: Proxy BookResource)
                     (<code><a href="JsonApi-Internal-Document.html#v:SingletonData">SingletonData</a></code> book)
                     <code><a href="JsonApi-Internal-Relationships.html#v:IncludeDefault">IncludeDefault</a></code>
                     mempty

</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.2</p></div></body></html>